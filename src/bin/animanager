#!/usr/bin/env python3

import logging
import atexit

import db
import locator
import scene
from scene import menu

logging.basicConfig(format='%(levelname)s:%(message)s', level=logging.DEBUG)


def main():

    locator.db = db.AnimeDB()
    atexit.register(locator.db.close)

    locator.stack = scene.SceneStack()
    locator.stack.add((menu.main_menu, [], {}))

    locator.stack.run()

if __name__ == "__main__":
    main()
